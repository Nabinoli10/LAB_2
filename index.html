<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAB_2 NABIN_OLI</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            background-color: lightcoral;
        }
    #nbnoli {
        width: 50%;
        height: 100px;
        border: 1px solid black;
        padding: 10px;
        display: flex;
        flex-direction: column;
        overflow: auto;
        background-color: lightslategrey;
    }
    button {
        background-color: green;
        color: white;
        border: none;
        padding: 6px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
    }
</style>
    </style>
</head>
<body>
    <h1> Select a specific cat breed for adoption</h1>

    <button onclick="allName()">All Names</button>
    <div>
        <button onclick="filterByHealthIssues()">Health Issues</button>
        <input type="number" id="healthIssues">
    </div>

    <div>
        <input type="radio" id="imperial" name="unit" checked>
        <label for="imperial">Imperial</label>
        <input type="radio" id="metric" name="unit">
        <label for="metric">Metric</label>
        <button onclick="displayWeights()">Weight</button>
    </div>

    <button onclick="displayIntelligenceAndFriendliness()">Intelligence â€“ Friendly</button>
    <button onclick="displayAverageIntelligence()">Average Intelligence</button>
    <button onclick="displayAverageIntelligenceForChildFriendly()">Average Intelligence for Child Friendly = 4</button>


    <div id="nbnoli">
        <- All results for Child Friendly should be displayed here->
    </div>

    <script>
        function allName(){
            const jsonUrl = 'https://api.thecatapi.com/v1/breeds';
            const jsonContentElement = document.getElementById('nbnoli');
            jsonContentElement.innerHTML="" 
            fetch(jsonUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Something went wrong.');
                    }
                    return response.json();
                })
                .then(data => {
                    const limitedData = data.slice(0, 67);
                    Object.values(limitedData).forEach(value => {
                        const lineBreak = document.createElement('br');
                        jsonContentElement.appendChild(document.createTextNode(value.name));
                        jsonContentElement.appendChild(lineBreak);
                    });
                    jsonContentElement.appendChild(document.createTextNode(`Total: ${limitedData.length}`));
                })
                .catch(error => {
                    console.error('Error fetching JSON:', error);
                });
        }

        function filterByHealthIssues() {
            const jsonUrl = 'https://api.thecatapi.com/v1/breeds';
            const jsonContentElement = document.getElementById('nbnoli');
            const healthIssuesScore = document.getElementById('healthIssues').value;
            jsonContentElement.innerHTML="" 
            fetch(jsonUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Something went wrong.');
                    }
                    return response.json();
                })
                .then(data => {
                    const filteredData = data.filter(cat => cat.health_issues === Number(healthIssuesScore));
                    Object.values(filteredData).forEach(value => {
                        const lineBreak = document.createElement('br');
                        jsonContentElement.appendChild(document.createTextNode(value.name));
                        jsonContentElement.appendChild(lineBreak);
                    });
                    jsonContentElement.appendChild(document.createTextNode(`Total: ${filteredData.length}`));
                })
                .catch(error => {
                    console.error('Error fetching JSON:', error);
                });
        }

        function displayWeights() {
            const jsonUrl = 'https://api.thecatapi.com/v1/breeds';
            const jsonContentElement = document.getElementById('nbnoli');
            const unit = document.querySelector('input[name="unit"]:checked').id;
            jsonContentElement.innerHTML="" 
            fetch(jsonUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Something went wrong.');
                    }
                    return response.json();
                })
                .then(data => {
                    Object.values(data).forEach(value => {
                        const lineBreak = document.createElement('br');
                        jsonContentElement.appendChild(document.createTextNode(`${value.weight[unit]}`));
                        jsonContentElement.appendChild(lineBreak);
                    });
                    jsonContentElement.appendChild(document.createTextNode(`Total: ${data.length}`));
                })
                .catch(error => {
                    console.error('Error fetching JSON:', error);
                });
        }

        function displayIntelligenceAndFriendliness() {
            const jsonUrl = 'https://api.thecatapi.com/v1/breeds';
            const jsonContentElement = document.getElementById('nbnoli');
            jsonContentElement.innerHTML="" 
            fetch(jsonUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Something went wrong.');
                    }
                    return response.json();
                })
                .then(data => {
                    Object.values(data).forEach(value => {
                        const lineBreak = document.createElement('br');
                        jsonContentElement.appendChild(document.createTextNode(`I: ${value.intelligence}, F: ${value.child_friendly}`));
                        jsonContentElement.appendChild(lineBreak);
                    });
                    jsonContentElement.appendChild(document.createTextNode(`Total: ${data.length}`));
                })
                .catch(error => {
                    console.error('Error fetching JSON:', error);
                });
        }

        function displayAverageIntelligence() {
            const jsonUrl = 'https://api.thecatapi.com/v1/breeds';
            const jsonContentElement = document.getElementById('nbnoli');
            jsonContentElement.innerHTML="" 
            fetch(jsonUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Something went wrong.');
                    }
                    return response.json();
                })
                .then(data => {
                    const totalIntelligence = data.reduce((total, cat) => total + cat.intelligence, 0);
                    const averageIntelligence = totalIntelligence / data.length;
                    jsonContentElement.appendChild(document.createTextNode(`Average Intelligence: ${averageIntelligence.toFixed(2)}`));
                })
                .catch(error => {
                    console.error('Error fetching JSON:', error);
                });
        }

        function displayAverageIntelligenceForChildFriendly() {
    const jsonUrl = 'https://api.thecatapi.com/v1/breeds';
    const jsonContentElement = document.getElementById('nbnoli');
    jsonContentElement.innerHTML="" 
    fetch(jsonUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error('Something went wrong.');
            }
            return response.json();
        })
        .then(data => {
            const limitedData = data.slice(0, 67);
            const childFriendlyCats = limitedData.filter(cat => cat.child_friendly === 5);
            const totalIntelligence = childFriendlyCats.reduce((total, cat) => total + cat.intelligence, 0);
            const averageIntelligence = totalIntelligence / childFriendlyCats.length;
            jsonContentElement.appendChild(document.createTextNode(`Average Intelligence for Child Friendly: ${averageIntelligence.toFixed(2)}`));
        })
        .catch(error => {
            console.error('Error fetching JSON:', error);
        });
}

    </script>
    
</body>
</html>
